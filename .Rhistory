pacman::p_load(dplyr, ggplot2, sjmisc, sjlabelled, sjplot)
pacman::p_load(dplyr, ggplot2, sjmisc, sjlabelled, sjPlot)
load("input/data/proc/encuesta-hvs.RData")
load("input/data/proc/encuesta_hvs.RData")
sjmisc::frq(hvs$hva_1)
View(hvs)
class(hvs)
class(hvs$hva_1)
hvs$hva_1 <- as_factor(hvs$hva_1)
class(hvs$hva_1)
sjmisc::frq(hvs$hva_1)
sjmisc::frq(hvs$hva_8)
sjmisc::frq(hvs$hva_9)
sjmisc::frq(hvs$hva_8)
sjmisc::frq(hvs$hva_10)
sjmisc::frq(hvs$hva_8)
sjmisc::frq(hvs$ha_1)
sjmisc::frq(hvs$ha_11)
sjmisc::frq(hvs$eei_1)
sjmisc::frq(hvs$eei_1_1)
sjmisc::frq(hvs$ge_1)
hvs <- hvs %>% set_na(., na = c(5,6,7)
)
hvs <- hvs %>% set_na(., na = c(5,6,7))
sjmisc::frq(hvs$hva_1)
sjmisc::frq(hvs$hva_8)
sjmisc::frq(hvs$ha_1)
sjmisc::frq(hvs$ha_11)
sjmisc::frq(hvs$eei_1)
sjmisc::frq(hvs$eei_1_1)
sjmisc::frq(hvs$ge_1)
class(hvs)
class(hvs$hva_1)
hvs$hva_1 <- as_factor(hvs$hva_1)
sjmisc::frq(hvs$hva_1)
sjmisc::frq(hvs$hva_8)
sjmisc::frq(hvs$ha_1)
sjmisc::frq(hvs$ha_11)
sjmisc::frq(hvs$eei_1)
sjmisc::frq(hvs$eei_1_1)
sjmisc::frq(hvs$ge_1)
hvs <- hvs %>% set_na(., na = c(5,6,7,8))
sjmisc::frq(hvs$hva_1)
sjmisc::frq(hvs$hva_8)
sjmisc::frq(hvs$ha_1)
sjmisc::frq(hvs$ha_11)
sjmisc::frq(hvs$eei_1)
sjmisc::frq(hvs$eei_1_1)
sjmisc::frq(hvs$ge_1)
load("input/data/proc/encuesta_hvs.RData")
class(hvs)
class(hvs$hva_1)
hvs$hva_1 <- as_factor(hvs$hva_1)
sjmisc::frq(hvs$carac_d6)
class(hvs$carac_d6)
sjmisc::frq(hvs$carac_d6)
hvs$carac_d6 <- as.numeric(hvs$carac_d6)
hvs$hva_1 <- as_factor(hvs$hva_1)
sjmisc::frq(hvs$carac_d6)
sjmisc::frq(hvs$hva_1)
sjmisc::frq(hvs$hva_8)
sjmisc::frq(hvs$ha_1)
sjmisc::frq(hvs$ha_11)
sjmisc::frq(hvs$eei_1)
sjmisc::frq(hvs$eei_1_1)
sjmisc::frq(hvs$ge_1)
?rename
hvs <- hvs %>% rename(porcentaje_1= hva_8)
hvs <- hvs %>% rename(porcentaje_2= hva_9)
hvs <- hvs %>% rename(porcentaje_3= hva_10)
hvs <- hvs %>% rename(politic_1= eei_1)
hvs <- hvs %>% rename(politic_2= eei_2)
hvs <- hvs %>% dplyr::select(starts_with(c("hva_", "ha_", "eei_", "ge_"))) %>% set_na(., na = c(5,6,7,8))
sjmisc::frq(hvs$carac_d6)
sjmisc::frq(hvs$hva_1)
sjmisc::frq(hvs$hva_8)
sjmisc::frq(hvs$ha_1)
sjmisc::frq(hvs$ha_11)
sjmisc::frq(hvs$eei_1)
sjmisc::frq(hvs$eei_1_1)
sjmisc::frq(hvs$ge_1)
load("input/data/proc/encuesta_hvs.RData")
class(hvs)
class(hvs$hva_1)
class(hvs$carac_d6)
hvs$carac_d6 <- as.numeric(hvs$carac_d6)
hvs$hva_1 <- as_factor(hvs$hva_1)
sjmisc::frq(hvs$carac_d6)
sjmisc::frq(hvs$hva_1)
sjmisc::frq(hvs$hva_8)
sjmisc::frq(hvs$ha_1)
sjmisc::frq(hvs$ha_11)
sjmisc::frq(hvs$eei_1)
sjmisc::frq(hvs$eei_1_1)
sjmisc::frq(hvs$ge_1)
hvs <- hvs %>% rename(porcentaje_1= hva_8)
hvs <- hvs %>% rename(porcentaje_2= hva_9)
hvs <- hvs %>% rename(porcentaje_3= hva_10)
hvs <- hvs %>% rename(politic_1= eei_1)
hvs <- hvs %>% rename(politic_2= eei_2)
hvs <- hvs %>%
mutate_at(vars(starts_with(c("hva_", "ha_", "eei_", "ge_"))), ~ set_na(., na = c(5,6,7,8)))
sjmisc::frq(hvs$carac_d6)
sjmisc::frq(hvs$hva_1)
sjmisc::frq(hvs$hva_8)
sjmisc::frq(hvs$ha_1)
sjmisc::frq(hvs$ha_11)
sjmisc::frq(hvs$eei_1)
sjmisc::frq(hvs$eei_1_1)
sjmisc::frq(hvs$ge_1)
sjmisc::frq(hvs$porcentaje_1)
sjmisc::frq(hvs$carac_d6)
sjmisc::frq(hvs$hva_1)
sjmisc::frq(hvs$porcentaje_1)
sjmisc::frq(hvs$ha_1)
sjmisc::frq(hvs$ha_11)
sjmisc::frq(hvs$eei_1)
sjmisc::frq(hvs$politic_1)
hvs <- hvs %>%
mutate_at(vars(starts_with(c("porcentaje"))), ~ set_na(., na = c(1,2)))
sjmisc::frq(hvs$politic_2)
hvs <- hvs %>%
mutate_at(vars(starts_with(c("politic_"))), ~ set_na(., na = c(3,4,5,6)))
sjmisc::frq(hvs$carac_d6)
sjmisc::frq(hvs$hva_1)
sjmisc::frq(hvs$porcentaje_1)
sjmisc::frq(hvs$hva_1)
sjmisc::frq(hvs$porcentaje_1)
class(hvs$porcentaje_1)
hvs <- hvs %>%
mutate_at(vars(starts_with(c("porcentaje_"))), ~ as.numeric())
hvs <- hvs %>%
mutate_at(vars(starts_with(c("porcentaje_"))), ~ as.numeric(.))
class(hvs$porcentaje_1)
sjmisc::frq(hvs$porcentaje_1)
sjmisc::frq(hvs$ha_1)
sjmisc::frq(hvs$ha_11)
sjmisc::frq(hvs$politic_2)
sjmisc::frq(hvs$eei_1_1)
sjmisc::frq(hvs$ge_1)
load("input/data/proc/encuesta_hvs.RData")
class(hvs)
class(hvs$hva_1)
class(hvs$carac_d6)
hvs$carac_d6 <- as.numeric(hvs$carac_d6)
hvs$hva_1 <- as_factor(hvs$hva_1)
sjmisc::frq(hvs$carac_d6)
sjmisc::frq(hvs$hva_1)
sjmisc::frq(hvs$hva_8)
sjmisc::frq(hvs$ha_1)
sjmisc::frq(hvs$ha_11)
sjmisc::frq(hvs$eei_1)
sjmisc::frq(hvs$eei_1_1)
sjmisc::frq(hvs$ge_1)
class(hvs)
class(hvs$hva_1)
class(hvs$carac_d6)
hvs$carac_d6 <- as.numeric(hvs$carac_d6)
hvs$hva_1 <- as_factor(hvs$hva_1)
sjmisc::frq(hvs$carac_d6)
sjmisc::frq(hvs$hva_1)
sjmisc::frq(hvs$hva_8)
sjmisc::frq(hvs$ha_1)
sjmisc::frq(hvs$ha_11)
sjmisc::frq(hvs$eei_1)
sjmisc::frq(hvs$eei_1_1)
sjmisc::frq(hvs$ge_1)
```{r}
hvs <- hvs %>% rename(porcentaje_1= hva_8)
hvs <- hvs %>% rename(porcentaje_2= hva_9)
hvs <- hvs %>% rename(porcentaje_3= hva_10)
hvs <- hvs %>% rename(politic_1= eei_1)
hvs <- hvs %>% rename(politic_2= eei_2)
hvs <- hvs %>%
mutate_at(vars(starts_with(c("hva_", "ha_", "eei_", "ge_"))), ~ set_na(., na = c(5,6,7,8)))
hvs <- hvs %>%
mutate_at(vars(starts_with(c("porcentaje_"))), ~ set_na(., na = c(1,2)))
hvs <- hvs %>%
mutate_at(vars(starts_with(c("porcentaje_"))), ~ as.numeric(.))
hvs <- hvs %>%
mutate_at(vars(starts_with(c("politic_"))), ~ set_na(., na = c(3,4,5,6)))
sjmisc::frq(hvs$carac_d6)
sjmisc::frq(hvs$hva_1)
sjmisc::frq(hvs$porcentaje_1)
sjmisc::frq(hvs$ha_1)
sjmisc::frq(hvs$ha_11)
sjmisc::frq(hvs$politic_2)
sjmisc::frq(hvs$eei_1_1)
sjmisc::frq(hvs$ge_1)
sjmisc::frq(hvs$carac_d6)
sjmisc::frq(hvs$hva_1)
sjmisc::frq(hvs$porcentaje_1)
sjmisc::frq(hvs$ha_1)
sjmisc::frq(hvs$ha_11)
sjmisc::frq(hvs$politic_2)
sjmisc::frq(hvs$eei_1_1)
sjmisc::frq(hvs$ge_1)
print(summarytools::dfSummary(hvs), method="render")
pacman::p_load(dplyr, ggplot2, sjmisc, sjlabelled, sjPlot)
load("input/data/proc/encuesta_hvs.RData")
class(hvs)
class(hvs$hva_1)
class(hvs$carac_d6)
hvs$carac_d6 <- as.numeric(hvs$carac_d6)
hvs$hva_1 <- as_factor(hvs$hva_1)
sjmisc::frq(hvs$carac_d6)
sjmisc::frq(hvs$hva_1)
sjmisc::frq(hvs$hva_8)
sjmisc::frq(hvs$ha_1)
sjmisc::frq(hvs$ha_11)
sjmisc::frq(hvs$eei_1)
sjmisc::frq(hvs$eei_1_1)
sjmisc::frq(hvs$ge_1)
load("input/data/proc/encuesta_hvs.RData")
class(hvs)
class(hvs$hva_1)
class(hvs$carac_d6)
hvs <- hvs %>% rename(porcentaje_1= hva_8)
hvs <- hvs %>% rename(porcentaje_2= hva_9)
hvs <- hvs %>% rename(porcentaje_3= hva_10)
hvs <- hvs %>% rename(politic_1= eei_1)
hvs <- hvs %>% rename(politic_2= eei_2)
hvs <- hvs %>%
mutate_at(vars(starts_with(c("hva_", "ha_", "eei_", "ge_"))), ~ set_na(., na = c(5,6,7,8)))
hvs <- hvs %>%
mutate_at(vars(starts_with(c("hva_", "ha_", "eei_", "ge_"))), ~ as_factor(.))
hvs <- hvs %>%
mutate_at(vars(starts_with(c("porcentaje_"))), ~ set_na(., na = c(1,2)))
hvs <- hvs %>%
mutate_at(vars(starts_with(c("porcentaje_"))), ~ as.numeric(.))
hvs <- hvs %>%
mutate_at(vars(starts_with(c("politic_"))), ~ set_na(., na = c(3,4,5,6)))
sjmisc::frq(hvs$carac_d6)
#sjmisc::frq(hvs$carac_d6)
sjmisc::frq(hvs$hva_1)
sjmisc::frq(hvs$porcentaje_1)
sjmisc::frq(hvs$ha_1)
sjmisc::frq(hvs$ha_11)
sjmisc::frq(hvs$politic_2)
sjmisc::frq(hvs$eei_1_1)
sjmisc::frq(hvs$ge_1)
?dfSummary
save(hvs, file="input/data/proc/hvs_proc.RData")
pacman::p_load(dplyr, ggplot2, sjmisc, sjlabelled, sjPlot)
load("input/data/proc/hvs_proc.RData")
pacman::p_load(dplyr, ggplot2, sjmisc, sjlabelled, sjPlot)
load("input/data/proc/hvs_proc.RData")
sjPlot::plot_frq(dplyr::select(hvs, starts_with("hva")))
sjPlot::plot_stackfrq(dplyr::select(hvs, starts_with("hva")))
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1))
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva5, hva6))
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6))
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6))+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6))+
theme_bw()+
geom_bar(position = "stack_dodge")
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6))+
theme_bw()+
theme(legend.position = "top") +
geom_bar(position = "stack_dodge")
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6))+
theme_bw()+
theme(legend.position = "top") +
geom_bar(position = "dodge")
?plot_stackfrq
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6),
vjust = "inward")+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6),
vjust = "outward")+
theme_bw()
pacman::p_load(dplyr, ggplot2, sjmisc, sjlabelled, sjPlot, ggrepel)
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6),
vjust = "outward")+
theme_bw()+
geom_text_repel(position = dodge)
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6),
vjust = "outward")+
theme_bw()+
geom_text_repel(position = "dodge")
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6),
vjust = "outward")+
theme_bw()+
geom_text_repel()
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6)
)+
theme_bw()+
geom_text_repel()
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6)
)+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6),
vjust="top"
)+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6),
vjust="bottom"
)+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6),
vjust="inward"
)+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6),
vjust="outward"
)+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6),
vjust="left"
)+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6),
vjust="right"
)+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6)
)+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6),
vjust="right",
coord.flip = TRUE
)+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6),
vjust="right",
coord.flip = TRUE
)
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6),
vjust=c("bottom", "top", "bottom", "top")
)+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6),
vjust=c("bottom", "top", "bottom", "top","bottom", "top", "bottom", "top","bottom", "top", "bottom", "top","bottom", "top", "bottom", "top")
)+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6),
vjust=c(rep("bottom", "top", "bottom", "top"),4)
)+
theme_bw()
?rep
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6),
vjust=repc(c("bottom", "top", "bottom", "top"),4)
)+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, hva_1, hva_4, hva_5, hva_6),
vjust=rep(c("bottom", "top", "bottom", "top"),4)
)+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, starts_with("hva")),
vjust=rep(c("bottom", "top", "bottom", "top"),4)
)+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, starts_with("hva_")),
vjust=rep(c("bottom", "top", "bottom", "top"),7)
)+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, starts_with("hva_")),
vjust=rep(c("bottom", "top", "bottom", "top"),7),
sort.frq = "first_asc"
)+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, starts_with("hva_")),
vjust=rep(c("bottom", "top", "bottom", "top"),7),
sort.frq = "last_asc"
)+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, starts_with("hva_")),
vjust=rep(c("bottom", "top", "bottom", "top"),7),
sort.frq = "last.asc"
)+
theme_bw()
sjPlot::plot_stackfrq(dplyr::select(hvs, starts_with("hva_")),
vjust=rep(c("bottom", "top", "bottom", "top"),7),
sort.frq = "last.desc"
)+
theme_bw()
plot_hva <- sjPlot::plot_stackfrq(dplyr::select(hvs, starts_with("hva_")),
vjust=rep(c("bottom", "top", "bottom", "top"),7),
sort.frq = "last.desc"
)+
theme_bw()
plot_hva
ggsave(plot_hva, file="output/graphs/plot_hva.png")
?plot_stackfrq
plot_hva <- sjPlot::plot_stackfrq(dplyr::select(hvs, starts_with("hva_")),
vjust=rep(c("bottom", "top", "bottom", "top"),7),
sort.frq = "last.desc",
)+
theme_bw() +
theme(legend.position="bottom")
plot_hva
ggsave(plot_hva, file="output/graphs/plot_hva.png")
plot_hva <- sjPlot::plot_stackfrq(dplyr::select(hvs, starts_with("hva_")),
vjust=rep(c("bottom", "top", "bottom", "top"),7),
sort.frq = "last.desc",
expand.grid =TRUE
)+
theme_bw() +
theme(legend.position="bottom")
plot_hva
ggsave(plot_hva, file="output/graphs/plot_hva.png")
pacman::p_load(dplyr, ggplot2, sjmisc, sjlabelled, sjPlot, ggrepel)
load("input/data/proc/hvs_proc.RData")
plot_hva <- sjPlot::plot_stackfrq(dplyr::select(hvs, starts_with("hva_")),
vjust=rep(c("bottom", "top", "bottom", "top"),7),
sort.frq = "last.desc",
expand.grid =TRUE
)+
theme_bw() +
theme(legend.position="bottom")
plot_hva
plot_ha <- sjPlot::plot_stackfrq(dplyr::select(hvs, starts_with("ha_")),
#                      vjust=rep(c("bottom", "top", "bottom", "top"),7),
sort.frq = "last.desc",
expand.grid =TRUE
)+
theme_bw() +
theme(legend.position="bottom")
plot_ha
plot_ha <- sjPlot::plot_stackfrq(dplyr::select(hvs, starts_with("ha_")),
vjust=rep(c("bottom", "top", "bottom", "top"),11),
sort.frq = "last.desc",
expand.grid =TRUE
)+
theme_bw() +
theme(legend.position="bottom")
plot_ha
plot_eei <- sjPlot::plot_stackfrq(dplyr::select(hvs, starts_with("eei_")),
#                      vjust=rep(c("bottom", "top", "bottom", "top"),7),
sort.frq = "last.desc",
expand.grid =TRUE
)+
theme_bw() +
theme(legend.position="bottom")
plot_eei
plot_eei <- sjPlot::plot_stackfrq(dplyr::select(hvs, starts_with("eei_")),
vjust=rep(c("bottom", "top", "bottom", "top"),16),
sort.frq = "last.desc",
expand.grid =TRUE
)+
theme_bw() +
theme(legend.position="bottom")
plot_eei
plot_ge <- sjPlot::plot_stackfrq(dplyr::select(hvs, starts_with("ge_")),
vjust=rep(c("bottom", "top", "bottom", "top"),4),
sort.frq = "last.desc",
expand.grid =TRUE
)+
theme_bw() +
theme(legend.position="bottom")
plot_ge
knitr::opts_chunk$set(
echo = FALSE,
results = "asis",
message = FALSE,
warning = FALSE,
fig.height = 18,
fig.width = 11,
cache = TRUE
)
options(scipen=9999) # desactivar notacion cientifica
remove(list = ls()) #limpieza del entorno de trabajo
load("input/data/proc/encuesta_hvs.RData")
hvs <- hvs %>% rename(porcentaje_1= hva_8)
pacman::p_load(dplyr, sjmisc, sjlabelled, summarytools)
hvs <- hvs %>% rename(porcentaje_1= hva_8)
hvs <- hvs %>% rename(porcentaje_3= hva_10)
hvs <- hvs %>% rename(politic_1= eei_1)
hvs <- hvs %>%
mutate_at(vars(starts_with(c("hva_", "ha_", "eei_", "ge_"))), ~ set_na(., na = c(5,6,7,8)))
hvs <- hvs %>%
mutate_at(vars(starts_with(c("hva_", "ha_", "eei_", "ge_"))), ~ as_factor(.))
hvs <- hvs %>%
mutate_at(vars(starts_with(c("porcentaje_"))), ~ set_na(., na = c(1,2)))
hvs <- hvs %>%
mutate_at(vars(starts_with(c("porcentaje_"))), ~ as.numeric(.))
hvs <- hvs %>%
mutate_at(vars(starts_with(c("politic_"))), ~ set_na(., na = c(3,4,5,6)))
hvs <- hvs %>%
mutate_at(vars(starts_with(c("politic_"))), ~ as_factor(.))
sjmisc::frq(hvs$carac_d6)
View(hvs)
hvs$carac_d4 <- as_factor(hvs$carac_d4)
hvs$carac_d5 <- as.numeric(hvs$carac_d5)
hvs$carac_d6 <- as.numeric(hvs$carac_d6)
